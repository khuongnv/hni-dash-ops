import{defineComponent as e,ref as t,mergeProps as s,unref as l,withCtx as r,createTextVNode as i,useSSRContext as n}from"vue";import{ssrRenderAttrs as a,ssrRenderComponent as d,ssrInterpolate as c}from"vue/server-renderer";import{useRoute as u,useRouter as v}from"vue-router";import{_ as m}from"./Button-C4ZWmsC_.mjs";import{X as o}from"./x-circle-B464d5LM.mjs";import{C as h}from"./check-circle-Bo3eN-bH.mjs";import"class-variance-authority";import"./utils-H80jjgLf.mjs";import"clsx";import"tailwind-merge";import"./createLucideIcon-DpBqMQLu.mjs";const x=e({__name:"sso-callback",__ssrInlineRender:!0,setup(e){u();const n=v(),x=t(!0),f=t(null),g=t(!1),p=t(null),goToLogin=()=>{n.push("/login")},goToDashboard=()=>{n.push("/main/dashboard")};return(e,t,n,u)=>{var v,b;t(`<div${a(s({class:"min-h-screen flex items-center justify-center bg-gray-50"},u))}><div class="max-w-md w-full space-y-8"><div class="text-center"><div class="mx-auto h-12 w-12 flex items-center justify-center">`),x.value?t('<div class="animate-spin rounded-full h-12 w-12 border-b-2 border-primary"></div>'):f.value?(t('<div class="h-12 w-12 flex items-center justify-center rounded-full bg-red-100">'),t(d(l(o),{class:"h-8 w-8 text-red-600"},null,n)),t("</div>")):(t('<div class="h-12 w-12 flex items-center justify-center rounded-full bg-green-100">'),t(d(l(h),{class:"h-8 w-8 text-green-600"},null,n)),t("</div>")),t(`</div><h2 class="mt-6 text-3xl font-extrabold text-gray-900">${c(x.value?"Đang xác thực...":f.value?"Xác thực thất bại":g.value?"Đăng nhập thành công":"Xác thực SSO")}</h2><p class="mt-2 text-sm text-gray-600">${c(x.value?"Vui lòng chờ trong giây lát...":f.value?"Có lỗi xảy ra trong quá trình xác thực":g.value?"Bạn đã đăng nhập thành công":"Đang xử lý...")}</p></div>`),f.value?(t('<div class="mt-8"><div class="bg-red-50 border border-red-200 rounded-md p-4"><div class="flex"><div class="flex-shrink-0">'),t(d(l(o),{class:"h-5 w-5 text-red-400"},null,n)),t(`</div><div class="ml-3"><h3 class="text-sm font-medium text-red-800"> Lỗi xác thực SSO </h3><div class="mt-2 text-sm text-red-700"><p>${c(f.value)}</p></div></div></div></div><div class="mt-6 flex justify-center">`),t(d(m,{onClick:goToLogin,variant:"outline"},{default:r((e,t,s,l)=>{if(!t)return[i(" Quay lại đăng nhập ")];t(" Quay lại đăng nhập ")}),_:1},n)),t("</div></div>")):g.value?(t('<div class="mt-8"><div class="bg-green-50 border border-green-200 rounded-md p-4"><div class="flex"><div class="flex-shrink-0">'),t(d(l(h),{class:"h-5 w-5 text-green-400"},null,n)),t(`</div><div class="ml-3"><h3 class="text-sm font-medium text-green-800"> Đăng nhập thành công </h3><div class="mt-2 text-sm text-green-700"><p>Chào mừng ${c((null==(v=p.value)?void 0:v.full_name)||(null==(b=p.value)?void 0:b.username))}!</p></div></div></div></div><div class="mt-6 flex justify-center">`),t(d(m,{onClick:goToDashboard,variant:"default"},{default:r((e,t,s,l)=>{if(!t)return[i(" Vào hệ thống ")];t(" Vào hệ thống ")}),_:1},n)),t("</div></div>")):t("\x3c!----\x3e"),t("</div></div>")}}}),f=x.setup;x.setup=(e,t)=>{const s=n();return(s.modules||(s.modules=new Set)).add("pages/auth/sso-callback.vue"),f?f(e,t):void 0};export{x as default};
