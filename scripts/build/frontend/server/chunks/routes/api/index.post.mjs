import{c as t,r as e,e as a}from"../../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"node:url";const s=t(async t=>{try{const s=await e(t);if(!s.name)throw a({statusCode:400,statusMessage:"Vui lòng điền đầy đủ thông tin bắt buộc"});const o=await $fetch("/data/demo-categories.ts"),i={id:Math.max(...o.map(t=>t.id))+1,name:s.name.trim(),description:s.description||null,type:s.type||"general",is_active:void 0===s.is_active||s.is_active,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()};return o.push(i),{success:!0,data:i,message:"Tạo category thành công"}}catch(t){throw a({statusCode:t.statusCode||500,statusMessage:t.statusMessage||"Lỗi khi tạo category"})}});export{s as default};
