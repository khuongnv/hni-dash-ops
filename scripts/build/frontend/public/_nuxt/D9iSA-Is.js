import{u}from"./BvMX9gl2.js";import{u as d}from"./wptq1C8v.js";const P=()=>{const{handleAsyncError:r}=u(),{get:o,post:c,put:g,delete:y}=d();return{getCategories:async()=>await r(async()=>await o("/api/categories"),"Lấy danh sách categories"),getCategoryById:async e=>await r(async()=>await o(`/api/categories/${e}`),"Lấy thông tin category"),createCategory:async e=>await r(async()=>await c("/api/categories",e),"Tạo category"),updateCategory:async(e,t)=>await r(async()=>await g(`/api/categories/${e}`,t),"Cập nhật category"),deleteCategory:async e=>await r(async()=>{await y(`/api/categories/${e}`)},"Xóa category"),buildCategoryTree:e=>{const t=new Map,n=[];return e.forEach(a=>{t.set(a.id,{...a,children:[]})}),e.forEach(a=>{const s=t.get(a.id);if(a.parent_id){const i=t.get(a.parent_id);i&&i.children.push(s)}else n.push(s)}),n},getParentCategories:(e,t)=>e.filter(n=>n.id!==t)}};export{P as u};
