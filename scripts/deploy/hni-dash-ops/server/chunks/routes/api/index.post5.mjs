import{c as t,r as e,e as s}from"../../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"node:url";const a=t(async t=>{try{const a=await e(t),{full_name:n,username:o,password:i,email:d,department_id:r,role_id:u,position_id:m,gender_id:p,dob:l,status:c}=a;if(!(n&&o&&i&&d))throw s({statusCode:400,statusMessage:"Vui lòng điền đầy đủ thông tin bắt buộc"});const g=await $fetch("/data/demo-users.ts"),h={id:Math.max(...g.map(t=>t.id))+1,full_name:n,username:o,password:i,email:d,department_id:r||null,role_id:u||null,position_id:m||null,gender_id:p||null,dob:l||null,status:c||"active",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()};return g.push(h),{success:!0,data:h,message:"Tạo người dùng thành công"}}catch(t){throw s({statusCode:t.statusCode||500,statusMessage:t.statusMessage||"Lỗi khi tạo người dùng"})}});export{a as default};
