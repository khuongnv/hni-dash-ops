import{c as t,r as e,e as a}from"../../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"node:url";const o=t(async t=>{try{const o=await e(t);if(!o.title||!o.content)throw a({statusCode:400,statusMessage:"Vui lòng điền đầy đủ thông tin bắt buộc"});const s=await $fetch("/data/demo-system-notifications.ts"),i={id:Math.max(...s.map(t=>t.id))+1,title:o.title.trim(),content:o.content.trim(),type:o.type||"info",priority:o.priority||"normal",is_active:void 0===o.is_active||o.is_active,start_date:o.start_date||(new Date).toISOString(),end_date:o.end_date||null,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()};return s.push(i),{success:!0,data:i,message:"Tạo thông báo thành công"}}catch(t){throw a({statusCode:t.statusCode||500,statusMessage:t.statusMessage||"Lỗi khi tạo thông báo"})}});export{o as default};
