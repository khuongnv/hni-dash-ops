import{u as o}from"./BvMX9gl2.js";import{u}from"./wptq1C8v.js";const v=()=>{const{handleAsyncError:n}=o(),{get:s,post:i,put:m,delete:d}=u();return{getDepartments:async()=>await n(async()=>await s("/api/departments"),"Lấy danh sách departments"),getDepartmentById:async t=>await n(async()=>await s(`/api/departments/${t}`),"Lấy thông tin department"),createDepartment:async t=>await n(async()=>await i("/api/departments",t),"Tạo department"),updateDepartment:async(t,e)=>await n(async()=>await m(`/api/departments/${t}`,e),"Cập nhật department"),deleteDepartment:async t=>await n(async()=>{await d(`/api/departments/${t}`)},"Xóa department"),buildDepartmentTree:t=>{const e=new Map,a=[];return t.forEach(r=>{e.set(r.id,{...r,children:[]})}),t.forEach(r=>{const p=e.get(r.id);if(r.parent_id){const c=e.get(r.parent_id);c&&c.children.push(p)}else a.push(p)}),a},getParentDepartments:(t,e)=>t.filter(a=>a.id!==e),getDepartmentsByLevel:(t,e)=>t.filter(a=>a.level===e)}};export{v as u};
