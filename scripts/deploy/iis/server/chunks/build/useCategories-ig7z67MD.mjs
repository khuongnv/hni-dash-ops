import{u as a}from"./useErrorHandler-y_M1hPJN.mjs";import{u as e}from"./useAPI-Bps8bvAQ.mjs";const useCategories=()=>{const{handleAsyncError:t}=a(),{get:r,post:s,put:i,delete:o}=e();return{getCategories:async()=>await t(async()=>await r("/api/categories"),"Lấy danh sách categories"),getCategoryById:async a=>await t(async()=>await r(`/api/categories/${a}`),"Lấy thông tin category"),createCategory:async a=>await t(async()=>await s("/api/categories",a),"Tạo category"),updateCategory:async(a,e)=>await t(async()=>await i(`/api/categories/${a}`,e),"Cập nhật category"),deleteCategory:async a=>await t(async()=>{await o(`/api/categories/${a}`)},"Xóa category"),buildCategoryTree:a=>{const e=new Map,t=[];return a.forEach(a=>{e.set(a.id,{...a,children:[]})}),a.forEach(a=>{const r=e.get(a.id);if(a.parent_id){const t=e.get(a.parent_id);t&&t.children.push(r)}else t.push(r)}),t},getParentCategories:(a,e)=>a.filter(a=>a.id!==e)}};export{useCategories as u};
