import{e as t}from"./server.mjs";const useAPI=()=>{const e=t().public.apiBaseUrl||"http://localhost:64707",apiCall=async(t,s={})=>{const o=`${e}${t}`;console.log("API Request:",{url:o,hasToken:!1,token:"none"});const r={headers:{"Content-Type":"application/json",..."",...s.headers}};try{const t=await $fetch(o,{...r,...s});if("Success"===t.Status)return t.Data;throw new Error(t.Message||"API call failed")}catch(e){throw console.error(`API Error for ${t}:`,e),console.error("Error details:",{status:e.status,statusText:e.statusText,data:e.data,message:e.message}),e}};return{get:async(t,e)=>{const s=e?new URLSearchParams(e).toString():"";return apiCall(s?`${t}?${s}`:t,{method:"GET"})},post:async(t,e)=>apiCall(t,{method:"POST",body:e?JSON.stringify(e):void 0}),put:async(t,e)=>apiCall(t,{method:"PUT",body:e?JSON.stringify(e):void 0}),delete:async t=>apiCall(t,{method:"DELETE"})}};export{useAPI as u};
