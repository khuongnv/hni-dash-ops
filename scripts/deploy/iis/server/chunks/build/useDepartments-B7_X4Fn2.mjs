import{u as t}from"./useErrorHandler-y_M1hPJN.mjs";import{u as e}from"./useAPI-Bps8bvAQ.mjs";const useDepartments=()=>{const{handleAsyncError:a}=t(),{get:n,post:r,put:s,delete:p}=e();return{getDepartments:async()=>await a(async()=>await n("/api/departments"),"Lấy danh sách departments"),getDepartmentById:async t=>await a(async()=>await n(`/api/departments/${t}`),"Lấy thông tin department"),createDepartment:async t=>await a(async()=>await r("/api/departments",t),"Tạo department"),updateDepartment:async(t,e)=>await a(async()=>await s(`/api/departments/${t}`,e),"Cập nhật department"),deleteDepartment:async t=>await a(async()=>{await p(`/api/departments/${t}`)},"Xóa department"),buildDepartmentTree:t=>{const e=new Map,a=[];return t.forEach(t=>{e.set(t.id,{...t,children:[]})}),t.forEach(t=>{const n=e.get(t.id);if(t.parent_id){const a=e.get(t.parent_id);a&&a.children.push(n)}else a.push(n)}),a},getParentDepartments:(t,e)=>t.filter(t=>t.id!==e),getDepartmentsByLevel:(t,e)=>t.filter(t=>t.level===e)}};export{useDepartments as u};
